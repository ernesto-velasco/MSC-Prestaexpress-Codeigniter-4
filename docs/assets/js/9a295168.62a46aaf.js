"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[591],{3905:function(e,n,a){a.d(n,{Zo:function(){return c},kt:function(){return m}});var t=a(7294);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function i(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function s(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?i(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function o(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=t.createContext({}),p=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):s(s({},n),e)),a},c=function(e){var n=p(e.components);return t.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return a?t.createElement(h,s(s({ref:n},c),{},{components:a})):t.createElement(h,s({ref:n},c))}));function m(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=d;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=a[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,a)}d.displayName="MDXCreateElement"},3880:function(e,n,a){a.r(n),a.d(n,{assets:function(){return c},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return u}});var t=a(7462),r=a(3366),i=(a(7294),a(3905)),s=["components"],o={sidebar_position:3},l="Trabajar con plantillas y componentes",p={unversionedId:"plantillas",id:"plantillas",title:"Trabajar con plantillas y componentes",description:"CodeIgniter 4 permite trabajar con plantillas (layouts), estas son \xfatiles para trabajar con vistas donde el dise\xf1o se repite varias veces y lo \xfanico que cambia es su contenido",source:"@site/docs/plantillas.md",sourceDirName:".",slug:"/plantillas",permalink:" /MSC-Prestaexpress-Codeigniter-4/docs/plantillas",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/plantillas.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Cerrar sesi\xf3n",permalink:" /MSC-Prestaexpress-Codeigniter-4/docs/Login/cerrar-sesion"},next:{title:"Preparaci\xf3n",permalink:" /MSC-Prestaexpress-Codeigniter-4/docs/CRUD-Empleados/preparacion"}},c={},u=[{value:"Crear una plantilla",id:"crear-una-plantilla",level:2},{value:"Usar plantillas",id:"usar-plantillas",level:2}],d={toc:u};function m(e){var n=e.components,a=(0,r.Z)(e,s);return(0,i.kt)("wrapper",(0,t.Z)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"trabajar-con-plantillas-y-componentes"},"Trabajar con plantillas y componentes"),(0,i.kt)("p",null,"CodeIgniter 4 permite trabajar con plantillas (layouts), estas son \xfatiles para trabajar con vistas donde el dise\xf1o se repite varias veces y lo \xfanico que cambia es su contenido"),(0,i.kt)("p",null,"En este caso vamos a  crear una plantilla para utilizar en todas las vistas que se muestran despu\xe9s de iniciar sesi\xf3n (empleados, pr\xe9stamos, solicitudes, etc.)."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Aunque solo vamos a utilizar una plantilla en este proyecto, se pueden crear m\xe1s si fuera necesario")),(0,i.kt)("h2",{id:"crear-una-plantilla"},"Crear una plantilla"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Crearemos el archivo de nuestra plantilla ",(0,i.kt)("inlineCode",{parentName:"li"},"app/Views/plantilla.php")),(0,i.kt)("li",{parentName:"ol"},"Dentro del archivo que acabamos de crear ponemos el c\xf3digo que se repetir\xe1 en todos los archivos donde la utilicemos")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Esta plantilla incluye el c\xf3digo base de html, los links para utilizar estilos de Bootstrap e iconos de Fontawesome, tambi\xe9n un navbar (barra de navegaci\xf3n superior), footer (pie de p\xe1gina)")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="app/Views/plantilla.php"',title:'"app/Views/plantilla.php"'},'<!doctype html>\n<html lang="en">\n\n<head>\n    \x3c!-- Required meta tags --\x3e\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n\n    \x3c!-- Primero van los LINK A  CSS --\x3e\n    \x3c!-- Bootstrap CSS --\x3e\n    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">\n    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css" integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw==" crossorigin="anonymous" referrerpolicy="no-referrer" />\n\n    \x3c!-- Despues van los SCRIPTS de JS --\x3e\n    \x3c!-- JS puede ir en el head o antes de terminar la etiqueta de <body> --\x3e\n    <title>Prestaexpress</title>\n</head>\n\n<body>\n    \x3c!-- Inicio Navbar --\x3e\n    <nav class="navbar navbar-light bg-light navbar-expand-lg fixed-top" aria-label="Eighth navbar example">\n        <div class="container">\n            \x3c!-- BRAND -- nombre de la app  --\x3e\n            <a class="navbar-brand" href="#">APP NAME </a>\n            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">\n                <span class="navbar-toggler-icon"></span>\n            </button>\n\n            <div class="collapse navbar-collapse" id="navbarMenu">\n                <ul class="navbar-nav me-auto mb-2 mb-md-0">\n\n                    <li class="nav-item">\n                        <a class="nav-link " aria-current="page" href="#">Inicio</a>\n                    </li>\n                    <li class="nav-item">\n                        <a class="nav-link " aria-current="page" href="#">Solicitudes</a>\n                    </li>\n                    <li class="nav-item">\n                        <a class="nav-link " aria-current="page" href="#">Pr\xe9stamos</a>\n                    </li>\n                    <li class="nav-item">\n                        <a class="nav-link " aria-current="page" href="#">Reportes</a>\n                    </li>\n                    <li class="nav-item">\n                        <a class="nav-link " aria-current="page" href="">Empleados</a>\n                    </li>\n                </ul>\n                <ul class="nav navbar-nav">\n                    <li class="nav-item">\n                        <a class="nav-link " aria-current="page" href="#"><?php session(\'empleado\')->usuario ?? \'\';></a>\n                    </li>\n                    <li class="nav-item">\n                        \x3c!-- Muestra un icono de Fontawesome con la etiqueta <i></i> --\x3e\n                        <a class="nav-link" aria-current="page" href="<?php echo base_url(\'auth/logout\'); ?>" title="Cerrar sesi\xf3n">\n                            <i aria-current="page" class="fa-solid fa-arrow-right-from-bracket"></i>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </nav>\n    \x3c!-- Tambi\xe9n se pueden importar componentes --\x3e\n    <?php echo $this->include(\'componentes/alerta\'); ?>\n    \x3c!-- Fin Navbar --\x3e\n    \x3c!-- Inicio Contenido --\x3e\n    <?= $this->renderSection(\'contenido\') ?>\n    \x3c!-- Fin Contenido --\x3e\n\n    \x3c!-- Inicio footer --\x3e\n    <div class="container border-top">\n        <footer class="py-3 my-4">\n            <ul class="nav justify-content-center border-bottom pb-3 mb-3">\n                <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Home</a></li>\n                <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Features</a></li>\n                <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">Pricing</a></li>\n                <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">FAQs</a></li>\n                <li class="nav-item"><a href="#" class="nav-link px-2 text-muted">About</a></li>\n            </ul>\n            <p class="text-center text-muted">\xa9 2021 Company, Inc</p>\n        </footer>\n    </div>\n    \x3c!-- Fin footer --\x3e\n\n    \x3c!-- Scripts de JS  --\x3e\n    \x3c!-- Optional JavaScript; choose one of the two! --\x3e\n\n    \x3c!-- Option 1: Bootstrap Bundle with Popper --\x3e\n    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"><\/script>\n\n    \x3c!-- Option 2: Separate Popper and Bootstrap JS --\x3e\n    \x3c!--\n    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"><\/script>\n    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"><\/script>\n    --\x3e\n</body>\n\n</html>\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"La linea de c\xf3digo ",(0,i.kt)("inlineCode",{parentName:"p"},"<?php session('empleado')->usuario ?? '';>")," es usada para mostrar el nombre del usuario que inicio sesi\xf3n, esto lo podemos hacer por que al iniciar sesi\xf3n guardamos la informaci\xf3n del usuario en ",(0,i.kt)("inlineCode",{parentName:"p"},"AuthController.php")," en el m\xe9todo *",(0,i.kt)("strong",{parentName:"p"},"*login**"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"La linea de c\xf3digo ",(0,i.kt)("inlineCode",{parentName:"p"},"<?= $this->renderSection('contenido') ?>")," le indica a nuestra aplicaci\xf3n que en esa 'secci\xf3n' se insertar\xe1 el c\xf3digo cuando usemos nuestra plantilla, podemos incluir varias secciones por eso le asignamos un nombre en este caso ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"contenido")),"."))),(0,i.kt)("h2",{id:"usar-plantillas"},"Usar plantillas"),(0,i.kt)("p",null,"Para usar la plantilla que creamos en el paso anterior, solo la debemos incluir con el m\xe9todo ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"extend"))," en el archivo donde la queremos usar, por ejemplo, si modificamos el archivo ",(0,i.kt)("inlineCode",{parentName:"p"},"app/Views/admin.php")," "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"para usar la plantilla usamos el c\xf3digo ",(0,i.kt)("inlineCode",{parentName:"li"},"<?= $this->extend('plantilla') ?>")),(0,i.kt)("li",{parentName:"ol"},"Insertamos c\xf3digo en la secci\xf3n ",(0,i.kt)("strong",{parentName:"li"},(0,i.kt)("em",{parentName:"strong"},"contenido"))," dentro de las etiquetas ",(0,i.kt)("inlineCode",{parentName:"li"},"<?= $this->extend('plantilla') ?>")," y ",(0,i.kt)("inlineCode",{parentName:"li"},"<?= $this->section('contenido') ?>"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="app/Views/admin.php"',title:'"app/Views/admin.php"'},'<?= $this->extend(\'plantilla\') ?>\n<?= $this->section(\'contenido\') ?>\n\x3c!-- DIV para un contenido o header de presentacion --\x3e\n<div class=" container text-center">\n    <h3 class="uppercase">TU APP NAME</h3>\n</div>\n\n\x3c!-- DIV para contenido de ka app [tablas, forms, etc.] --\x3e\n<div class="container  px-4  gy-5">\n    <h4>Bienvenido a TU APP</h4>\n    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Temporibus, sunt esse voluptatum similique ullam eveniet magnam illum rem officiis a doloremque vel. Odio facilis esse distinctio, consequuntur nemo doloribus veritatis!</p>\n</div>\n\n<div class="container  px-4  gy-5">\n    <h4>Esta plantilla contiene una estructura basica para construir tu aplicaci\xf3n </h4>\n    <ul>\n        <li>Bootstrap 5- cdn</li>\n        <li>Fontawesome 6 - cdn</li>\n        <li>Cerrar sesi\xf3n XMLHttpRequest() </li>\n    </ul>\n</div>\n<?= $this->endSection() ?>\n')),(0,i.kt)("h1",{id:"componentes"},"componentes"),(0,i.kt)("p",null,"Tambi\xe9n podemos crear bloques de c\xf3digo mas peque\xf1os, pero que se repiten en diferentes partes de nuestro c\xf3digo. Por ejemplo, podemos crear un componente para mostrar mensajes de alerta:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"creamos la carpeta ",(0,i.kt)("inlineCode",{parentName:"li"},"app/Views/Componentes")),(0,i.kt)("li",{parentName:"ol"},"Dentro de la carpeta componentes creamos el archivo ",(0,i.kt)("inlineCode",{parentName:"li"},"alerta.php")," con el siguiente c\xf3digo"),(0,i.kt)("li",{parentName:"ol"},"para usarlo dentro de una vista usamos el siguiente c\xf3digo ",(0,i.kt)("inlineCode",{parentName:"li"},"<?php echo $this->include('componentes/alerta'); ?>"),", ",(0,i.kt)("strong",{parentName:"li"},"Ese c\xf3digo ya se encuentra dentro de plantilla.php del paso anterior asi que ya no hace falta hacerlo"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php",metastring:'title="app/Views/admin.php"',title:'"app/Views/admin.php"'},"<?php if (session('error')) : ?>\n    <div class=\"alert alert-danger\" role=\"alert\">\n        <?php echo session('error'); ?>\n    </div>\n<?php endif; ?>\n<?php if (session('success')) : ?>\n    <div class=\"alert alert-success\" role=\"alert\">\n        <?php echo session('success'); ?>\n    </div>\n<?php endif; ?>\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"El c\xf3digo anterior muestra alerta roja si mandamos un mensaje de sesi\xf3n tipo ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"flashData"))," con el titulo error, y una alerta verde si usamos el titulo success")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Los ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"flashData"))," ya los usamos en el controlador AuthController, se crean de la siguiente manera ",(0,i.kt)("inlineCode",{parentName:"p"},"session()->setFlashdata('error', 'No existe un usuario con ese nombre, intenta de nuevo.');"))))}m.isMDXComponent=!0}}]);